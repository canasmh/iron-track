<section class="routine">
    <div class="routine__container">
        <h2 class="routine__heading">{{ routine.name }}</h2>
        <div *ngFor="let exercise of routine.exercises; index as i;" class="exercise__container">
          <div class="exercise__header">
            <div class="exercise__header--content">
              <i class="fa-light fa-circle-info exercise__header--name-icon" role="button" tabindex="0"></i>
              <h4 class="exercise__header--name"> {{ exercise.exercise.name }}</h4>
            </div>
            <i
              class="fa-regular fa-chevron-down exercise__header--icon"
              [ngClass]="{'rotate' : expand[i]}"
              (click)="handleExpand(i)"
              attr.aria-label="{{expand[i] ? 'Collapse' : 'Expand'}} Exercise"
              tabindex="0"
              (keydown.enter)="handleExpand(i)"
              (keydown.space)="handleExpand(i)"
            ></i>
          </div>
          <div class="exercise__content" [ngClass]="{'expand': expand[i]}">
            <table class="exercise__table">
              <thead>
                <tr class="exercise__table--head">
                  <th class="exercise__table--head-data">Sets</th>
                  <th class="exercise__table--head-data">{{ exercise.quantityUnit == 'rep' ? 'Reps' : 'Duration' }}</th>
                  <th class="exercise__table--head-data">Weight</th>
                </tr>
              </thead>
              <tbody>
                <tr class="exercise__table--body">
                  <td class="exercise__table--body-data">{{ exercise.sets }}</td>
                  <td class="exercise__table--body-data">{{ exercise.quantity }} {{ exercise.quantityUnit }}(s)</td>
                  <td class="exercise__table--body-data">{{ exercise.weight }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <a [routerLink]="['/routines',routine.id,'edit']" class="btn btn__ghost">Edit Routine</a>
        <a href="#" class="btn btn__fill">Begin Workout</a>
    </div>
  <div *ngIf="errorMessage" class="error" aria-live="assertive">
    <p class="error__message">{{ errorMessage }}</p></div>
</section>
